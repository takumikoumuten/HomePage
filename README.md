このプロジェクトで使っている`gatsby`について、大まかに説明をさせていただきます。以下、強調したい言葉(初出や特別な意味で使う場合)バッククォートで囲んで強調しておきます。知っているものと知っていないものを明確に分けることで、理解が促進されると考えるからですね。

このプロジェクトでは、`gatsby`という`静的サイト`を構築するための`javascript` `フレームワーク`を利用しています。


## `gatsby`とは？
`gatsby`を説明するために、`javascript`から順に説明していきます。

### `javascript`とは？
HTML/CSSは学ばれたということなので、HTML→構造を記述する言語、CSS→スタイルを記述する言語という認識は持っておられると思います。
`javascript`は、HTMLやCSSなどを動かすための言語、と捉えていただいて問題ないです。scriptの中で`alert('Hello, world!')`などは実行したことがあるかもしれないですね。

### `静的サイト`とは？
- `静的サイト`というのは、`動的サイト`と対比される言葉です。
- どちらも、`javascript`とHTML/CSSを利用することは前提となっています。
- `静的サイト`と`動的サイト`をあわせて、ここでは便宜的に`サイト`と特別に呼びたいと思います。
	- `サイト`は、ブラウザ上でHTML/CSS/JSを解釈して描画することで、私達ユーザーに見えることになるわけです。`静的サイト`と`動的サイト`の違いは、データをいつ取得するか、ということです。
	- `静的サイト`は、先にデータを用意し、HTML/CSS/JSとして書き出した`サイト`です。
		- 例えば、
	- `動的サイト`は、HTML/CSS/JSを解釈し、JSを実行する中で、データを任意の方法で読み出し（読み出し方は想定する必要はない）、リアルタイムに構築される`サイト`のこと。
 
### `フレームワーク`とは？
- `フレームワーク`と対になる言葉で`ライブラリ`があります。この違いは混同しやすいので、念頭においておくと良いでしょう。
	- ここでは、思い切って演劇で例えたいと思います。
	- `フレームワーク`は、舞台です
	- `ライブラリ`は、小道具です
	- `フレームワーク`は舞台なので、「これこれこういうところで踊ってください。あとは私が、演劇全体を成り立たせます」
	- `ライブラリ`は小道具なので、「私は、こういう見た目の剣です。ご自由に演技に使ってください」
 
### `gatsby`とは？
- `gatsby`は、`静的サイト`を制作する`フレームワーク`です。
	- 「pages/というフォルダに、適切な`react`のファイルを置いてくれれば、その`react`ファイルと、その中で指定されている画像データなどを利用して、`静的サイト`を作りますよ」と言ってくれます。

### `react`とは？
- `react`とは、`javascript`を利用して、わかりやすく`サイト`を作れるようにしましょう、というコンセプトの`フレームワーク`です
- `サイト`を`state`＋`描画`の2軸で分割することで、スッキリと実装できるように作られました。
	- 以前は、jQueryで直接HTML構造をいじっていました。
		- jQueryは、いつどこでもHTML構造やCSSを変更できてしまうんですね。
		- そうすると、「どこでこの見出しAをいじったかな？」「どうしていつの間にかこの本文Bの内容が変わっているんだ！！！」みたいに、大規模なサイトだとすぐにバグが起きるようになってしまいます。
		- 1ページ程度の個人サイトではこのやり方は通用しましたが、今は保守性の観点から、技術において適当な会社以外は`jQuery`は使われていません。
		- 【補記】世界的にスタンダードに使われているのは`react`ですね。日本では`vue`などが流行っていますが、easyを追求してcomplexなフレームワークになっているので、`react`の方が保守しやすいと私は考えています。
	- `react`では、`state`と`描画`の二つに分けて`サイト`を考えたといいました。
		- それはどういうことかと言うと、何？とどうやって？を分けたということです。
		- 何？とどうやって？を分けたことで、何？がいつどこで変化したか、よりわかりやすくなったわけですね。
		- 少し具体的なコードの話に入ります。
			- `react`では、何？を書くために`state`という概念を導入しました。
			- `state`というのは、時間で変化する値のことです。
				- 金太郎あめを想像してください。金太郎飴をあるところで切ると、笑顔の金太郎がいます。一方、もう少し後ろの場所で切ると、悲しい顔の金太郎がいます。
				- 金太郎が伸びていく、つまり時間が経って変わるにに連れて、金太郎の表情は変わっていきますね。
				- この金太郎の表情が`state`です。この場合は、`state = '笑顔' もしくは '悲しい顔'`ですね。
			- そして、`react`が`サイト`を`state`と`描画`の２つに分けたと言いましたが、今度は`描画`の話です。
				- 先程の金太郎飴のたとえに戻りましょう。`state`は表情でした。すると、`描画`というのは、金太郎をどのようにえがくか、ということですね。読んで字のごとく。
				- 例えば、金太郎は黒髪ぱっつんで、前掛けが金色かもしれません。またほかの金太郎飴は、金髪碧眼で、前掛けではなく黒いマントみたいなものをつけているかもしれませんね。
		- `react`は`state`と`描画`を分離したことによって、2つの利点を獲得しました。
			- まず１つ、`state`を書き換えたり、読み取るところが散らばらずにすんだことで、「あれ、この見出しB、どこの実装で書き換えたんだよ！！！なんで私はここで見出しBって設定したのに、見出しCになっちゃうの？？？誰だよ変なコード書いたやつ！！！」みたいなことが少なくなりました。
			- 2つ、`描画`のところではHTML/CSSのようなデザインに集中することができるようになりました。
				- `関数`という概念はおわかりかと思います。`入力`を受け取って、なにかしら`コードを実行`して、`出力`を返す。というものです。
				- ここは大事なところなので、注意深く読んでください。私達は、`state`からどうやって`描画`するかについての`関数`を実装します。つまり、表情というstateからどのように金太郎飴を描くか、ということを実装しているわけです。
				- 今までのやり方だと、「〇〇になったときに、△△を描く。だけど、もし■■になったら▲▲にHTMLを変える」みたいにこっそり変えていました。見えているHTMLは、△△のままで、初めて見る人は▲▲と表示されることなんてわからないわけです。
				- ですが、`react`では、`state`というふうに隠れていたデータを**変化することが明示された**わかりやすい単位に取り出したことで、「stateは〇〇というときと、■■という時がある。そして、それぞれの場合で△△になるか、もしくは▲▲になる」という`描画`に集中できるというわけですね。
				- これは、中規模の`サイト`を実装するようになると、強く実感することです。

- 話を戻しましょう。ここまで`react`について書きました。`react`は、`state`と`描画`をわかりやすく分離したことで、大規模なサイトでも管理しやすくしたものだ、ということですね。
- `gatsby`は、この`react`を使って、`静的サイト`を作る`フレームワーク`です。
	- `静的サイト`は、事前にデータをとっておいて、いつ読み込んでも同じように作られた`サイト`でした
	- `フレームワーク`は舞台で、踊ると色々周りをお膳立てしてくれるのでしたね
	- `gatsby`は、ページごとの描画方法を渡してあげると、そういうページたち(newsやhome、contact usなど)を作り出してくれるものです。
		- このプロジェクトのために、強調しておきたいのですが、このプロジェクトでは`news.json`というデータをもとに、ニュースページを作っています。

### gatsbyの他に使っているライブラリ

- tailwindcss
	- cssはtailwindcssを利用しています。style.cssに書くのではなく、classNameに適切なクラスを設定することで、スタイルを指定します。
	- 例ですが、クラス名を`grid items-center grid-flow-row place-content-start w-full`のように指定したりします。

### react特有の記法
`react`では、`JSX`という記法を採用しています。名前は深く覚えなくても良いですが、わからなくなったら調べられるように書いておきます。

`JSX`というのは、`javascript`内でhtmlを記述できるようにした記法です。
`javascript`では、「class」という文字列が特別な扱いになっているので、classNameという名前でタグのクラス名を指定します。スタイルを編集する際に戸惑うかもしれないので、先に軽く示しておきます。


### gatsby以外に使っているサービス
ここからは、コードではなく、サイトを公開するためのサービスについて概要を書いていきます。

- github
	- サイトを公開するためのサービスではありません、コードをバージョン管理するためのものです
- netlify
	- サイトを指定の(もしくはデフォルトの)ドメインに公開するためのサービスです。ドメインについての説明は省きます。
- ムームードメイン
	- ドメインを取得するために利用しました。`takumikoumutenjp.com`というドメインを取得しています。

# 環境構築

1. まず、お使いのOS(windows / macOS / Linux)でgit cliをインストールしてください(cliについての解説は省きます)
	- gitをcliで利用する場合に注意することが一つ
	- 現在アカウント・パスワードでcliを利用することができません。セキュリティのためです。
	- [参考](https://docs.github.com/ja/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens)
	- [参考2](https://qiita.com/fukatani/items/16e749de8026abd4ed32)
2. nodeをバージョン管理するソフトウェアをインストールしてください。
	- macOSならnodenvなど
	- windowsならvoltaなど
	- インストール方法については適宜調べてください。
	- nodeというのは、`javascript`の`ライブラリ`をインストールするのに必要なソフトウェアと考えてください。
3. nodeをインストールすると、npmという名前の実行ファイルもインストールされます。
	- `npm ci`を実行してください
	- こちらで、このプロジェクトで使う`javascript`の`ライブラリ`がインストールされます。
4. プロジェクトを実行するときは、以下のコマンドを叩いてください
	- `npx gatsby develop`

#### オプション
vscodeを利用して実装することをおすすめします。他にもエディターはありますが。
tailwindcssを入力する際、補完してくれる機能があると、とても便利です。
